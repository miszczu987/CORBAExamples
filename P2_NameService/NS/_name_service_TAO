#name service TAO

NS_EXE="tao_cosnaming"
NS_COMMAND="${NS_EXE} -ORBListenEndpoints iiop://:${NS_PORT}"


startNS()
{
	echo "Starting NameService..."
	nohup ${NS_COMMAND} 2>/dev/null &
	sleep 0.2
	rm -f nohup.out

	if isNSWorking
	then
		echo "NameService started in background (PID=$(pidof ${NS_EXE}))"
	else
		echo "Unable to start NameService!"
		exit 1
	fi
}

stopNS()
{
	echo "Stopping NameService..."
	kill $(pidof ${NS_EXE})
	echo "NameService stopped"
}

listNS()
{
	tao_nslist -ORBInitRef NameService=iiop://localhost:${NS_PORT}/NameService --ior
}

